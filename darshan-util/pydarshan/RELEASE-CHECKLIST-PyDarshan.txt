Notes on how to release a new version of PyDarshan
2020-06
-----------------------

 - Ensure python dev environment with dev dependencies, if not already present
    (- python3 -m venv venv)
    (- source venv/bin/activate)
    (- pip install .[dev,test]    # deps for packaging, testing, and docs generation)

 - About updating CHANGELOG.rst
    - Since version 3.5.0, pydarshan released as a part of Darshan package, the
      change history should go to `ChangeLog` at root folder.
 - Update version numbers in:
    darshan/__init__.py
 - About the pydarshan documents
    - Since version 3.5.0, all Darshan documents have been moved to
      readthedocs.io and are updated every time a new commit is pushed to the
      main branch.

 - Submit to PyPI using cibuildwheel/twine:
    - pipx run build --sdist
        (in the pydarshan directory, creates a source distribution)
    - download wheel artifacts from GitHub, copy to 'dist/' directory created above
        + Click on Actions in GitHub. On the left panel, click "Build Wheels".
        + Click on "Run workflow" to generate the artifacts. This will take about an hour.
        + Click on the latest workflow run named "Build Wheels"
        + At the bottom section, click the download icon to the right of
          'pydarshan-wheels-all' to download the artifact zip file, named
          'pydarshan-wheels-all.zip'.
        + Copy the zip file to to 'dist/' directory and run command 'unzip' to
          extract the wheel files.
    - pipx run twine upload dist/*
        (requires PyPI credentials for darshan project)
        (use '--repository testpypi' to test wheels using https://test.pypi.org/project/darshan/ before uploading to PyPI)

 - Add/update spack package: py-darshan
    - add version entry
    - add hash of release tar.gz from pypi (because that one should always exist) / or use mcs darshan mirror
    - check if new dependencies are required (compare to requirements.txt)
    - submit as pull request to https://github.com/spack/spack

 - Announce:
    - Regular Darshan Release: Copy release notes for PyDarshan and attach as seperate section (mailinglist, website/blog)
    - PyDarshan only: Post release note section of PyDarshan (mailinglist, website/blog)

Note on Versionsformat:
    Whenever libdarshan-utils has a version change, PyDarshan is bumped accordingly.
    4th position version numbers allows for PyDarshan to be on a faster release cycle
